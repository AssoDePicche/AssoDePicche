<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="My personal social links" />
    <meta name="keywords" content="social links, assodepicche" />

    <link rel="stylesheet" href="./index.min.css" />

    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon" />

    <script
      defer
      src="https://kit.fontawesome.com/c40ede7c8f.js"
      crossorigin="anonymous"
    ></script>

    <title>AssoDePicche</title>
  </head>

  <body>
    <main class="flex flex--column flex--center">
      <img
        src="https://avatars.githubusercontent.com/u/86676526?v=4"
        alt="Samuel do Prado Rodrigues"
        width="160px"
        height="160px"
        class="avatar mb-3"
      />

      <h3 class="title mb-3">Samuel do Prado Rodrigues</h3>

      <section class="flex flex--column"></section>
    </main>

    <script type="module">
      import { items } from './index.js';

      function prepareColumns(items, start, end) {
        let columns = [];

        while (start < end) {
          const item = items[start];

          let a = document.createElement("a");

          a.classList = ['btn flex flex--center mb-3'];

          a.target = "_blank";

          a.rel = "noopener noreferrer";

          a.href = item.href;

          let i = document.createElement("i");

          i.classList = [`${item.brand}`];

          a.append(`${item.name}`, i);

          let column = document.createElement("div");

          column.append(a);

          columns.push(column);

          ++start;
      }

      return columns;
    }

      const section = document.getElementsByTagName("section")[0];

      const columnsPerRow = 2;

      for (let index = 0; index <= items.length - columnsPerRow; index += columnsPerRow) {
        const row = document.createElement("div");

        row.classList = ["row flex--center mb-3"];

        const columns = prepareColumns(items, index, index + columnsPerRow);

        columns.forEach(column => row.append(column));

        section.append(row);
      }
    </script>
  </body>
</html>
